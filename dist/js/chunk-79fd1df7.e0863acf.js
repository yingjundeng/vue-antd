(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79fd1df7","chunk-2d0da06c","chunk-2d0e93c2","chunk-2d224970"],{1276:function(e,t,n){"use strict";var r=n("d784"),a=n("44e7"),i=n("825a"),s=n("1d80"),o=n("4840"),l=n("8aa5"),c=n("50c4"),d=n("14c3"),u=n("9263"),p=n("9f7f"),m=p.UNSUPPORTED_Y,g=[].push,f=Math.min,h=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),i=void 0===n?h:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!a(e))return t.call(r,e,i);var o,l,c,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,f=new RegExp(e.source,p+"g");while(o=u.call(f,r)){if(l=f.lastIndex,l>m&&(d.push(r.slice(m,o.index)),o.length>1&&o.index<r.length&&g.apply(d,o.slice(1)),c=o[0].length,m=l,d.length>=i))break;f.lastIndex===o.index&&f.lastIndex++}return m===r.length?!c&&f.test("")||d.push(""):d.push(r.slice(m)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a,n):r.call(String(a),t,n)},function(e,a){var s=n(r,e,this,a,r!==t);if(s.done)return s.value;var u=i(e),p=String(this),g=o(u,RegExp),b=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"g":"y"),O=new g(m?"^(?:"+u.source+")":u,v),w=void 0===a?h:a>>>0;if(0===w)return[];if(0===p.length)return null===d(O,p)?[p]:[];var j=0,$=0,k=[];while($<p.length){O.lastIndex=m?0:$;var x,I=d(O,m?p.slice($):p);if(null===I||(x=f(c(O.lastIndex+(m?$:0)),p.length))===j)$=l(p,$,b);else{if(k.push(p.slice(j,$)),k.length===w)return k;for(var y=1;y<=I.length-1;y++)if(k.push(I[y]),k.length===w)return k;$=j=x}}return k.push(p.slice(j)),k}]}),m)},"1b6a":function(e,t,n){"use strict";var r=n("5ad8"),a=n.n(r);a.a},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),s=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},"5ad8":function(e,t,n){},"6a9d":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchDeptTree",(function(){return a})),n.d(t,"fetchTree",(function(){return i})),n.d(t,"addObj",(function(){return s})),n.d(t,"getdept",(function(){return o})),n.d(t,"delObj",(function(){return l})),n.d(t,"putObj",(function(){return c})),n.d(t,"saveRoledept",(function(){return d})),n.d(t,"getRoledept",(function(){return u}));var r=n("5098");function a(e){return Object(r["request"])("get","/admin/dept/user-tree",e,"Y")}function i(e){return Object(r["request"])("get","/admin/dept/tree",e,"Y")}function s(e){return Object(r["request"])("post","/admin/dept",e)}function o(e){return Object(r["request"])("get","/admin/dept/"+e,{})}function l(e){return Object(r["request"])("delete","/admin/dept/"+e,{})}function c(e){return Object(r["request"])("put","/admin/dept",e)}function d(e){return Object(r["request"])("post","/admin/roledept",e)}function u(e){return Object(r["request"])("get","/admin/roledept/"+e,{})}},"8d55":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchList",(function(){return a})),n.d(t,"deptRoleList",(function(){return i})),n.d(t,"getObj",(function(){return s})),n.d(t,"addObj",(function(){return o})),n.d(t,"putObj",(function(){return l})),n.d(t,"delObj",(function(){return c})),n.d(t,"permissionUpd",(function(){return d})),n.d(t,"fetchRoleTree",(function(){return u}));var r=n("5098");function a(e){return Object(r["request"])("get","/admin/role/page",e,"Y")}function i(){return Object(r["request"])("get","/admin/role/list",{})}function s(e){return Object(r["request"])("get","/admin/role/"+e,{})}function o(e){return Object(r["request"])("post","/admin/role",e)}function l(e){return Object(r["request"])("put","/admin/role",e)}function c(e){return Object(r["request"])("delete","/admin/role/"+e,{})}function d(e,t){return Object(r["request"])("put","/admin/role/menu",{roleId:e,menuIds:t},"Y")}function u(e){return Object(r["request"])("get","/admin/menu/tree/"+e,{})}},e17e:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchList",(function(){return a})),n.d(t,"addObj",(function(){return i})),n.d(t,"getObj",(function(){return s})),n.d(t,"delObj",(function(){return o})),n.d(t,"putObj",(function(){return l})),n.d(t,"getDetails",(function(){return c}));var r=n("5098"),a=function(e){return Object(r["request"])("get","/admin/user/page",e,"Y")},i=function(e){return Object(r["request"])("post","/admin/user",e)},s=function(e){return Object(r["request"])("get","/admin/user/"+e,{})},o=function(e){return Object(r["request"])("delete","/admin/user/"+e,{})},l=function(e){return Object(r["request"])("put","/admin/user",e)},c=function(e){return Object(r["request"])("get","/admin/user/details/"+e,{})}},e378:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"template_content"},[n("div",{staticClass:"search_box"},[n("a-form",{attrs:{layout:"inline"}},[n("a-form-item",{attrs:{label:e.$t("logistics.search")+"："}},[n("a-input",{attrs:{placeholder:e.$t("username"),allowClear:""},model:{value:e.searchPage.username,callback:function(t){e.$set(e.searchPage,"username",t)},expression:"searchPage.username"}})],1),n("a-form-item",[n("a-button",{attrs:{icon:"search",type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("logistics.search")))])],1)],1)],1),n("div",{staticClass:"content_box"},[n("div",{staticClass:"table_top"},[n("a-button",{staticClass:"btn_right_margin",attrs:{icon:"plus",type:"primary"},on:{click:function(t){return e.showModal("")}}},[e._v(e._s(e.$t("logistics.new")))])],1),n("a-table",{attrs:{columns:e.columns,dataSource:e.data,loading:e.loading,pagination:e.pagination,bordered:"",size:"small"},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"roleList",fn:function(t){return n("span",{},e._l(t,(function(t){return n("a-tag",{key:t.roleId,attrs:{color:"purple"}},[e._v(e._s(t.roleName))])})),1)}},{key:"lockFlag",fn:function(t){return n("span",{},[n("a-tag",{key:t,attrs:{color:"0"==t?"#108ee9":"#f50"}},[e._v(e._s("0"==t?"有效":"锁定"))])],1)}},{key:"action",fn:function(t,r){return[n("a-button",{staticClass:"btn_margin",attrs:{icon:"edit",type:"primary"},on:{click:function(t){return e.showModal(r)}}},[e._v(e._s(e.$t("logistics.editor")))]),n("a-button",{staticClass:"btn_margin",attrs:{icon:"delete",type:"danger"},on:{click:function(t){return e.deleteRow({record:r})}}},[e._v(e._s(e.$t("logistics.delete")))])]}}])})],1),n("a-modal",{attrs:{title:e.modalTitle,footer:null},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[n("a-form",{attrs:{form:e.modalForm},on:{submit:e.modalHandleSubmit}},[n("a-form-item",{attrs:{label:e.$t("username"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:this.$t("inpusername")}]}],expression:"['username', { rules: [{ required: true, message: this.$t('inpusername') }] }]"}],attrs:{placeholder:e.$t("inpusername")}})],1),n("a-form-item",{attrs:{label:e.$t("password"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:this.$t("inppassword")}]}],expression:"['password', { rules: [{ required: true, message: this.$t('inppassword') }] }]"}],attrs:{placeholder:e.$t("inppassword")}})],1),n("a-form-item",{attrs:{label:e.$t("dept"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["deptId",{rules:[{required:!0,message:this.$t("selectdept")}]}],expression:"['deptId', { rules: [{ required: true, message: this.$t('selectdept') }] }]"}],attrs:{options:e.deptOptions,fieldNames:e.fieldNames,changeOnSelect:"",placeholder:e.$t("selectdept")}})],1),n("a-form-item",{attrs:{label:e.$t("phone"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone"],expression:"[\n        'phone',\n      ]"}],attrs:{placeholder:e.$t("inpphone")}})],1),n("a-form-item",{attrs:{label:e.$t("role"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["role",{rules:[{required:!0,message:this.$t("selectrole")}]}],expression:"[\n        'role',\n        { rules: [{ required: true, message: this.$t('selectrole')}] },\n      ]"}],attrs:{placeholder:e.$t("selectrole"),mode:"multiple"}},e._l(e.roleList,(function(t){return n("a-select-option",{key:t.roleId,attrs:{value:t.roleId}},[e._v(e._s(t.roleName))])})),1)],1),n("a-form-item",{attrs:{label:e.$t("lockFlag"),"label-col":{span:5},"wrapper-col":{span:19}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["lockFlag",{rules:[{required:!0,message:this.$t("selectlockFlag")}]}],expression:"[\n        'lockFlag',\n        { rules: [{ required: true, message: this.$t('selectlockFlag') }] },\n      ]"}],attrs:{placeholder:e.$t("selectlockFlag")}},[n("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("logistics.effective")))]),n("a-select-option",{attrs:{value:"9"}},[e._v(e._s(e.$t("logistics.lock")))])],1)],1),n("a-form-item",{attrs:{"wrapper-col":{span:19,offset:5}}},[n("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(e._s(e.$t("logistics.save")))])],1)],1)],1)],1)},a=[],i=(n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("ade3")),s=(n("d81d"),n("ac1f"),n("1276"),n("a9e3"),n("a434"),n("e17e")),o=n("8d55"),l=n("6a9d"),c=n("ca00");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=[{title:"用户名",dataIndex:"username",align:"center"},{title:"手机号",dataIndex:"phone",align:"center"},{title:"角色",dataIndex:"roleList",align:"center",scopedSlots:{customRender:"roleList"}},{title:"部门",dataIndex:"deptName",align:"center"},{title:"状态",dataIndex:"lockFlag",align:"center",scopedSlots:{customRender:"lockFlag"}},{title:"创建时间",dataIndex:"createTime",align:"center"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},align:"center"}],m=[{title:"user name",dataIndex:"username",align:"center"},{title:"Mobile phone no.",dataIndex:"phone",align:"center"},{title:"role",dataIndex:"role",align:"center",scopedSlots:{customRender:"roleList"}},{title:"department",dataIndex:"deptName",align:"center"},{title:"state",dataIndex:"lockFlag",align:"center",scopedSlots:{customRender:"lockFlag"}},{title:"Creation time",dataIndex:"createTime",align:"center"},{title:"operation",key:"action",scopedSlots:{customRender:"action"},align:"center"}],g=[{title:"ユーザー名",dataIndex:"username",align:"center"},{title:"携帯電話番号",dataIndex:"phone",align:"center"},{title:"役",dataIndex:"role",align:"center",scopedSlots:{customRender:"roleList"}},{title:"省庁",dataIndex:"deptName",align:"center"},{title:"状态",dataIndex:"lockFlag",align:"center",scopedSlots:{customRender:"lockFlag"}},{title:"創建時期",dataIndex:"createTime",align:"center"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},align:"center"}],f={data:function(){return{username:"",loading:!0,searchPage:{current:1,size:10,username:""},columns:"cn"==localStorage.lang?p:"en"==localStorage.lang?m:g,data:[],pagination:{showQuickJumper:!0,showSizeChanger:!0},modalVisible:!1,modalTitle:this.$t("logistics.add"),modalForm:this.$form.createForm(this,{name:"coordinated"}),parameters:{username:"",password:"",deptId:[],phone:"",role:[],deptName:"",lockFlag:""},deptOptions:[],roleList:"",rowData:{},fieldNames:{label:"name",value:"id",children:"children"}}},created:function(){this.importFontpack("admin/user/"),this.getList(this.searchPage),this.getDept(),this.getdeptRoleList()},beforeUpdate:function(){this.importFontpack("admin/user/")},methods:{getList:function(e){var t=this;Object(s["fetchList"])(e).then((function(e){if(t.loading=!1,0==e.code){t.data=e.data.records;var n=u({},t.pagination);n.current=e.data.current,n.total=e.data.total,t.pagination=n}else t.$message.info(err)})).catch((function(e){Object(c["disposereq"])(t,e)}))},getDept:function(){var e=this;Object(l["fetchTree"])().then((function(t){e.loading=!1,0==t.code?e.deptOptions=t.data:e.$message.info(err)})).catch((function(t){Object(c["disposereq"])(e,t)}))},getdeptRoleList:function(){var e=this;Object(o["deptRoleList"])().then((function(t){e.loading=!1,0==t.code?e.roleList=t.data:e.$message.info(err)})).catch((function(t){Object(c["disposereq"])(e,t)}))},handleTableChange:function(e,t,n){var r=u({},this.searchPage);r.current=e.current,r.size=e.pageSize,this.loading=!0,this.getList(r)},handleSubmit:function(){var e=u({},this.searchPage);this.loading=!0,this.getList(e)},showModal:function(e){var t=this;if(this.modalVisible=!0,""==e)this.modalTitle=this.$t("logistics.add"),this.modalType="add",this.$nextTick((function(){t.modalForm.setFieldsValue({username:"",password:"",deptId:[],phone:"",role:[],deptName:"",lockFlag:""})}));else{this.modalTitle=this.$t("logistics.editor"),this.modalType="edit";for(var n=[],r=0;r<e.roleList.length;r++)n.push(e.roleList[r].roleId);var a=e.unitNo.split("|").map(Number);a.splice(0,1),this.$nextTick((function(){t.modalForm.setFieldsValue({username:e.username,password:e.password,deptId:a,phone:e.phone,role:n,deptName:e.deptName,lockFlag:e.lockFlag}),t.rowData=e}))}},deleteRow:function(e){var t=this;Object(s["delObj"])(e.record.userId).then((function(e){if(t.loading=!1,0==e.code){t.$message.success(t.$t("logistics.deleteSuccess"));var n=u({},t.searchPage);t.loading=!0,t.getList(n)}else t.$message.info(err)})).catch((function(e){Object(c["disposereq"])(t,e)}))},modalHandleSubmit:function(e){var t=this;e.preventDefault(),this.modalForm.validateFields((function(e,n){e||"add"!=t.modalType?e||"edit"!=t.modalType||(t.rowData.username=n.username,t.rowData.password=n.password,t.rowData.deptId=n.deptId[n.deptId.length-1],t.rowData.phone=n.phone,t.rowData.role=n.role,t.rowData.deptName=n.deptName,t.rowData.lockFlag=n.lockFlag,Object(s["putObj"])(t.rowData).then((function(n){if(0==n.code){t.modalVisible=!1,t.$message.success(t.$t("logistics.editSuccess"));var r=u({},t.searchPage);t.loading=!0,t.getList(r)}else t.$message.info(e)})).catch((function(e){t.$message.info(e)}))):(n.deptId=n.deptId[n.deptId.length-1],Object(s["addObj"])(n).then((function(n){if(0==n.code){t.modalVisible=!1,t.$message.success(t.$t("logistics.addSuccess"));var r=u({},t.searchPage);t.loading=!0,t.getList(r)}else t.$message.info(e)})).catch((function(e){t.$message.info(e)})))}))}}},h=f,b=(n("1b6a"),n("2877")),v=Object(b["a"])(h,r,a,!1,null,null,null);t["default"]=v.exports}}]);