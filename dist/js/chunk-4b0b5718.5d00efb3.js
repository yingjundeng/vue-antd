(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b0b5718","chunk-b2d8933e","chunk-16811099"],{"0eaf":function(t,e,i){},"498a":function(t,e,i){"use strict";var o=i("23e7"),n=i("58a8").trim,s=i("c8d2");o({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},"54b1":function(t,e,i){},8430:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-color"},[i("div",{staticStyle:{"text-align":"right",background:"#262626"}},[i("a",{staticStyle:{color:"#F1F3F4"},on:{click:function(e){return t.$router.push("/monitorScreen/historicalVideo")}}},[t._v("历史画面与录像")]),i("a",{staticStyle:{margin:"0 30px",color:"#F1F3F4"},on:{click:function(e){return t.$router.push("/monitorScreen/setting")}}},[t._v("设置")])]),i("j-video",{attrs:{setting:t.setting,sysParams:t.sysParams,list:t.list}})],1)},n=[],s=i("e37d"),a=i("f9f0"),r={components:{monitorSetModal:s["default"],jVideo:a["default"]},data:function(){return{setting:{id:"widnow"},sysParams:{appkey:"28730366",secret:"HSZkCJpSJ7gSUYrO6wVi",ip:"10.19.132.75",playMode:0,port:443},list:[{cameraIndexCode:"",ezvizDirect:0,gpuMode:0,streamMode:0,transMode:1,wndId:1},{cameraIndexCode:"",ezvizDirect:0,gpuMode:0,streamMode:0,transMode:1,wndId:2}]}},methods:{openModal:function(){this.$refs.monitorSetModal.open(1)}}},l=r,c=(i("ecca"),i("2877")),d=Object(c["a"])(l,o,n,!1,null,"ccd85ac0",null);e["default"]=d.exports},a847:function(t,e,i){"use strict";var o=i("0eaf"),n=i.n(o);n.a},b288:function(t,e,i){"use strict";var o=i("b9ae"),n=i.n(o);n.a},b9ae:function(t,e,i){},c8d2:function(t,e,i){var o=i("d039"),n=i("5899"),s="​᠎";t.exports=function(t){return o((function(){return!!n[t]()||s[t]()!=s||n[t].name!==t}))}},e37d:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{attrs:{title:t.title,width:t.width,visible:t.visible,maskClosable:!1},on:{ok:t.handleOk,cancel:function(e){t.visible=!1}}},[i("div",{staticClass:"olnytu"},t._l(15,(function(e){return i("a-row",{key:e+"olnytu",attrs:{gutter:12}},[i("a-col",{attrs:{span:3}},[t._v("图像"+t._s(e)+":")]),i("a-col",{attrs:{span:6}},[i("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"lucy"}},[i("a-select-option",{attrs:{value:"lucy"}},[t._v(" Lucy ")])],1)],1),i("a-col",{attrs:{span:6}},[i("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"lucy"}},[i("a-select-option",{attrs:{value:"lucy"}},[t._v(" Lucy ")])],1)],1),i("a-col",{attrs:{span:6}},[i("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"lucy"}},[i("a-select-option",{attrs:{value:"lucy"}},[t._v(" Lucy ")])],1)],1),i("a-col",{attrs:{span:3}},[1===e?i("a",{staticStyle:{"font-size":"12px"},on:{click:function(e){return t.open(2)}}},[i("a-icon",{attrs:{type:"link"}}),t._v("联动详情")],1):t._e()])],1)})),1),i("a-modal",{attrs:{width:t.width,visible:t.visible2,maskClosable:!1},on:{ok:t.handleOk,cancel:function(e){t.visible2=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title2)+" "),i("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关","default-checked":""}})],1),i("a-form",{staticClass:"visiform",attrs:{form:t.form},on:{submit:t.handleSubmit}},[i("a-form-item",{attrs:{label:"需视频联动的子系统"}},[i("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple","default-value":["a1","b2"],placeholder:"Please select"}},t._l(25,(function(e){return i("a-select-option",{key:(e+9).toString(36)+e},[t._v(" "+t._s((e+9).toString(36)+e)+" ")])})),1)],1),i("a-form-item",{attrs:{label:"需视频联动的报警类型"}},[i("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple","default-value":["a1","b2"],placeholder:"Please select"}},t._l(25,(function(e){return i("a-select-option",{key:(e+9).toString(36)+e},[t._v(" "+t._s((e+9).toString(36)+e)+" ")])})),1)],1),i("a-form-item",{attrs:{label:"需视频联动的报警级别"}},[i("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple","default-value":["a1","b2"],placeholder:"Please select"}},t._l(25,(function(e){return i("a-select-option",{key:(e+9).toString(36)+e},[t._v(" "+t._s((e+9).toString(36)+e)+" ")])})),1)],1)],1),i("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.callback}},[i("a-tab-pane",{key:"1",attrs:{tab:"单一报警"}},[i("div",[i("div",{staticClass:"mg-bom-xs"},[t._v("画面显示设置：")]),i("div",{staticClass:"monit-div"},[t._v("单一画面显示规则：显示直至报警处理完毕")])])]),i("a-tab-pane",{key:"2",attrs:{tab:"多报警"}},[i("div",{staticClass:"dou-div"},[i("div",{staticClass:"mg-bom-xs"},[t._v("画面显示：")]),i("div",{staticClass:"monit-div"},[i("div",[i("div",{staticClass:"mg-bom-xs mg-top-xs"},[t._v("层级一：子系统")]),i("div",[i("a-tag",{attrs:{color:"red"}},[t._v("1.火灾自动报警系统")]),i("a-tag",{attrs:{color:"pink"}},[t._v("2.建筑设备监控系统")]),i("a-tag",{attrs:{color:"orange"}},[t._v("3.视频安防监控系统")]),i("a-tag",{attrs:{color:"green"}},[t._v("4.入侵报警系统")]),i("a-tag",{staticClass:"mg-top-xs",attrs:{color:"blue"}},[t._v("5.FCU温控系统")])],1)]),i("div",[i("div",{staticClass:"mg-bom-xs mg-top-xs"},[t._v("层级二：报警级别")]),i("div",[i("a-tag",{attrs:{color:"red"}},[t._v("1.紧急报警")]),i("a-tag",{attrs:{color:"orange"}},[t._v("2.重要报警")]),i("a-tag",{attrs:{color:"blue"}},[t._v("3.一般报警")])],1)]),i("div",[i("div",{staticClass:"mg-bom-xs mg-top-xs"},[t._v("层级三：报警类型")]),i("div",[i("a-tag",{attrs:{color:"red"}},[t._v("1.探测报警")]),i("a-tag",{attrs:{color:"blue"}},[t._v("2.运行报警")])],1)])]),i("div",[i("div",{staticClass:"mg-bom-xs mg-top-xs"},[t._v("轮换模式：")]),i("div",{staticClass:"monit-div"},[t._v("当优先级更高的报警出现时，安排其为视频轮换队列中的下一个")])]),i("div",[i("div",{staticClass:"mg-bom-xs mg-top-xs"},[t._v("单一画面显示规则：")]),i("div",{staticClass:"monit-div"},[t._v("持续显示1min后轮换下一报警, 当前显示的报警在报警处理完毕后不再显示")])])])])],1)],1)],1)],1)},n=[],s={data:function(){return{form:this.$form.createForm(this,{name:"monitorSet"}),visible:!1,visible2:!1,width:630,title:"监控大屏设置",title2:"联动详情"}},methods:{open:function(t){console.log(t),1===t?this.visible=!0:this.visible2=!0},handleOk:function(){}}},a=s,r=(i("b288"),i("2877")),l=Object(r["a"])(a,o,n,!1,null,"bfe74300",null);e["default"]=l.exports},ecca:function(t,e,i){"use strict";var o=i("54b1"),n=i.n(o);n.a},f9f0:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"wrapper"},[i("div",{class:[null===t.oWebControl?"videoNull":""],staticStyle:{left:"109px",top:"133px"},attrs:{id:t.setting.id},domProps:{innerHTML:t._s(null===t.oWebControl?t.playText:"")}})])},n=[],s=(i("498a"),{props:{setting:{type:Object,default:function(){}},sysParams:{type:Object,default:function(){}},list:{type:Array,default:function(){return[]}}},data:function(){return{videoWidth:document.documentElement.clientWidth-200,videoHeight:document.documentElement.clientHeight-90,layout:"2x2",left:"",top:"160",initCount:0,playMode:0,playText:"启动中...",cameraIndexCode:"",oWebControl:null,href:"static/HIKVideo/VideoWebPlugin.exe",screenWidth:document.documentElement.clientWidth,screenHeight:document.documentElement.clientHeight}},created:function(){this.createdVideo()},mounted:function(){},methods:{createdVideo:function(){var t=this;this.initPlugin(this.setting.id,(function(){t.multiPreviewVideo()}))},resizewindow:function(t,e){t=t<1423?1423:t,e=e<754?754:e,window.resizeTo(t,e)},destroyWnd:function(){this.oWebControl?(this.oWebControl.JS_HideWnd(),this.oWebControl.JS_DestroyWnd({funcName:"destroyeWnd"}).then((function(t){console.log(t)}))):console.log("没有实例")},init:function(t){var e=this;this.getPubKey((function(){var i=e.sysParams.appkey,o=e.setEncrypt(e.sysParams.secret),n=e.sysParams.ip,s=e.playMode,a=e.sysParams.port,r="D:\\SnapDir",l="D:\\VideoDir",c=e.layout,d=1,u="secret",h=1,v=1,f="0,16,256,257,258,259,260,512,513,514,515,516,517,768,769";e.oWebControl.JS_RequestInterface({funcName:"init",argument:JSON.stringify({appkey:i,secret:o,ip:n,playMode:s,port:a,snapDir:r,videoDir:l,layout:c,enableHTTPS:d,encryptedFields:u,showToolbar:h,showSmart:v,buttonIDs:f})}).then((function(i){e.oWebControl.JS_Resize(e.videoWidth,e.videoHeight),t&&t()}))}))},initPlugin:function(t,e){var i=this,o=this;o.oWebControl=new WebControl({szPluginContainer:t,iServicePortStart:15900,iServicePortEnd:15909,szClassId:"23BF3B0A-2C56-4D97-9C03-0CB103AA8F11",cbConnectSuccess:function(){o.oWebControl.JS_StartService("window",{dllPath:"./VideoPluginConnect.dll"}).then((function(){o.oWebControl.JS_SetWindowControlCallback({cbIntegrationCallBack:o.cbIntegrationCallBack}),o.oWebControl.JS_CreateWnd(t,o.videoWidth,o.videoHeight).then((function(){o.init(e)}))}),(function(){}))},cbConnectError:function(){o.oWebControl=null,o.playText="插件未启动，正在尝试启动，请稍候...",WebControl.JS_WakeUp("VideoWebPlugin://"),o.initCount++,o.initCount<3?setTimeout((function(){o.initPlugin()}),3e3):o.playText="插件启动失败，请检查插件是否安装！<a href=".concat(i.href,' type="primary" download="视频插件.exe" style=\'color:#4194fc\'>下载地址</a>')},cbConnectClose:function(t){o.oWebControl=null}})},handleClose:function(){this.oWebControl&&(this.oWebControl.JS_RequestInterface({funcName:"stopAllPreview"}),this.oWebControl.JS_HideWnd(),this.oWebControl.JS_Disconnect().then((function(){}),(function(){})),this.oWebControl=null)},cbIntegrationCallBack:function(t){},previewVideo:function(){var t=this.cameraIndexCode,e=0,i=1,o=0,n=-1;this.oWebControl.JS_RequestInterface({funcName:"startPreview",argument:JSON.stringify({cameraIndexCode:t.trim(),streamMode:e,transMode:i,gpuMode:o,wndId:n})})},multiPreviewVideo:function(){this.oWebControl.JS_RequestInterface({funcName:"startMultiPreviewByCameraIndexCode",argument:JSON.stringify({list:this.list})}).then((function(t){0===t.errorCode&&console.log("预览成功")}))},getPubKey:function(t){var e=this;this.oWebControl.JS_RequestInterface({funcName:"getRSAPubKey",argument:JSON.stringify({keyLength:1024})}).then((function(i){i.responseMsg.data&&(e.pubKey=i.responseMsg.data,t())}))},setEncrypt:function(t){var e=new JSEncrypt;return e.setPublicKey(this.pubKey),e.encrypt(t)},setWndCover:function(){var t=$(window).width(),e=$(window).height(),i=$("#"+this.setting.id).get(0).getBoundingClientRect(),o=i.left<0?Math.abs(i.left):0,n=i.top<0?Math.abs(i.top):0,s=i.right-t>0?Math.round(i.right-t):0,a=i.bottom-e>0?Math.round(i.bottom-e):0;o=o>this.videoWidth?this.videoWidth:o,n=n>this.videoHeight?this.videoHeight:n,s=s>this.videoWidth?this.videoWidth:s,a=a>this.videoHeight?this.videoHeight:a,this.oWebControl.JS_RepairPartWindow(0,0,this.videoWidth+1,this.videoHeight),0!=o&&this.oWebControl.JS_CuttingPartWindow(0,0,o,this.videoHeight),0!=n&&this.oWebControl.JS_CuttingPartWindow(0,0,this.videoWidth+1,n),0!=s&&this.oWebControl.JS_CuttingPartWindow(this.videoWidth-s,0,s,this.videoHeight),0!=a&&this.oWebControl.JS_CuttingPartWindow(0,this.videoHeight-a,this.videoWidth,a)}},destroyed:function(){this.destroyWnd()},watch:{screenWidth:function(t,e){this.videoWidth=document.documentElement.clientWidth-450,this.videoHeight=document.documentElement.clientHeight-200,this.oWebControl.JS_Resize(this.videoWidth,this.videoHeight),this.resizewindow(t,this.screenHeight),this.setWndCover()},screenHeight:function(t,e){this.videoWidth=document.documentElement.clientWidth-450,this.videoHeight=document.documentElement.clientHeight-200,this.oWebControl.JS_Resize(this.videoWidth,this.videoHeight),this.resizewindow(this.screenWidth,t),this.setWndCover()}}}),a=s,r=(i("a847"),i("2877")),l=Object(r["a"])(a,o,n,!1,null,"badcfd60",null);e["default"]=l.exports}}]);