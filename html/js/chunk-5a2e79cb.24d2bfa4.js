(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a2e79cb","chunk-2d231030"],{"6c8c":function(e,t,n){"use strict";var a=n("e18e"),s=n.n(a);s.a},"97a1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"template_content"},[n("div",{staticClass:"content_box"},[n("div",{staticClass:"table_top"},[n("a-button-group",[n("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:function(t){return e.addMenu("add")}}},[e._v(e._s(e.$t("logistics.add")))]),n("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:function(t){return e.editMenu("edit")}}},[e._v(e._s(e.$t("logistics.editor")))]),n("a-button",{attrs:{icon:"delete",type:"primary"},on:{click:function(t){return e.delMenu("del")}}},[e._v(e._s(e.$t("logistics.delete")))])],1)],1),n("div",[n("a-row",[n("a-col",{staticClass:"col-h",attrs:{span:4}},[n("a-tree",{attrs:{treeData:e.menuTreeData,replaceFields:e.menuReplaceFields,defaultExpandAll:"",checkStrictly:"",showLine:""},on:{select:e.onMenuCheck}})],1),n("a-col",{attrs:{span:10}},[n("a-form",{attrs:{form:e.modalForm},on:{submit:e.modalHandleSubmit}},[n("a-form-item",{attrs:{label:e.$t("parentId"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["parentId"],expression:"['parentId']"}],attrs:{disabled:"",placeholder:e.$t("inpparentId")}})],1),n("a-form-item",{attrs:{label:e.$t("menuId"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuId",{rules:[{required:!0,message:this.$t("inpmenuId")}]}],expression:"['menuId', { rules: [{ required: true, message: this.$t('inpmenuId')  }] }]"}],attrs:{placeholder:e.$t("inpmenuId")}})],1),n("a-form-item",{attrs:{label:e.$t("name"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:this.$t("inpname")}]}],expression:"['name', { rules: [{ required: true, message: this.$t('inpname')  }] }]"}],attrs:{placeholder:e.$t("inpname")}})],1),n("a-form-item",{attrs:{label:e.$t("permission"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["permission"],expression:"['permission']"}],attrs:{placeholder:e.$t("inppermission")}})],1),n("a-form-item",{attrs:{label:e.$t("icon"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["icon"],expression:"['icon']"}],attrs:{placeholder:e.$t("inpicon")}})],1),n("a-form-item",{attrs:{label:e.$t("type"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:this.$t("inptype")}]}],expression:"[\n        'type',\n        { rules: [{ required: true, message: this.$t('inptype') }] },\n      ]"}],attrs:{placeholder:e.$t("inptype")}},[n("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("logistics.btn")))]),n("a-select-option",{attrs:{value:"1"}},[e._v(e._s(e.$t("logistics.menu")))])],1)],1),n("a-form-item",{attrs:{label:e.$t("sort"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort"],expression:"['sort']"}],attrs:{placeholder:e.$t("inpsort")}})],1),n("a-form-item",{attrs:{label:e.$t("component"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["component"],expression:"['component']"}],attrs:{placeholder:e.$t("inpcomponent")}})],1),n("a-form-item",{attrs:{label:e.$t("path"),"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["path"],expression:"['path']"}],attrs:{placeholder:e.$t("inppath")}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.btnShowType,expression:"btnShowType"}],attrs:{"wrapper-col":{span:21,offset:3}}},[n("a-button",{staticClass:"btn_right_margin",attrs:{type:"primary","html-type":"submit"}},[e._v(e._s(e.$t("logistics.save")))]),n("a-button",[e._v(e._s(e.$t("logistics.cancel")))])],1)],1)],1)],1)],1)])])},s=[],r=(n("b0c0"),n("ef70")),i=n("ca00"),o={data:function(){return{modalForm:this.$form.createForm(this,{name:"coordinated"}),menuTreeData:[],menuReplaceFields:{children:"children",title:"name",key:"id"},checkData:"",btnType:"",btnShowType:!1}},created:function(){this.importFontpack("admin/menu/"),this.GetAllMenu()},beforeUpdate:function(){this.importFontpack("admin/menu/")},methods:{GetAllMenu:function(){var e=this;Object(r["fetchMenuTree"])().then((function(t){0==t.code?e.menuTreeData=t.data:e.$message.info(err)})).catch((function(t){Object(i["disposereq"])(e,t)}))},onMenuCheck:function(e,t){var n=this,a=t.selectedNodes[0].data.props;this.btnShowType=!1,this.checkData=a,this.$nextTick((function(){n.modalForm.setFieldsValue({parentId:a.parentId,menuId:a.id,name:a.name,permission:a.permission,icon:a.icon,type:a.type,sort:a.keepAlive,component:a.component,path:a.path})}))},addMenu:function(e){var t=this;this.btnType=e,this.btnShowType=!0,""==this.checkData?this.$nextTick((function(){t.modalForm.setFieldsValue({parentId:-1})})):this.$nextTick((function(){t.modalForm.setFieldsValue({parentId:t.checkData.id,menuId:"",name:"",permission:"",icon:"",type:"",sort:"",component:"",path:""})}))},editMenu:function(e){this.btnType=e,""==this.checkData?this.$message.info(this.$t("selecteditmenu")):this.btnShowType=!0},delMenu:function(e){var t=this;this.btnType=e,this.btnShowType=!1,""==this.checkData?this.$message.info(this.$t("selectdeletemenu")):Object(r["delObj"])(this.checkData.id).then((function(e){0==e.code?(t.GetAllMenu(),t.$message.success(t.$t("logistics.deleteSuccess"))):t.$message.info(err)})).catch((function(e){t.$message.info(e)}))},modalHandleSubmit:function(e){var t=this;e.preventDefault(),this.modalForm.validateFields((function(e,n){e||"add"!=t.btnType?e||"edit"!=t.btnType||Object(r["putObj"])(n).then((function(n){0==n.code?(t.GetAllMenu(),t.$message.success(t.$t("logistics.editSuccess"))):t.$message.info(e)})).catch((function(e){t.$message.info(e)})):Object(r["addObj"])(n).then((function(n){0==n.code?(t.GetAllMenu(),t.$message.success(t.$t("logistics.addSuccess"))):t.$message.info(e)})).catch((function(e){t.$message.info(e)}))}))}}},c=o,l=(n("6c8c"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,null,null);t["default"]=u.exports},e18e:function(e,t,n){},ef70:function(e,t,n){"use strict";n.r(t),n.d(t,"GetMenu",(function(){return s})),n.d(t,"fetchMenuTree",(function(){return r})),n.d(t,"addObj",(function(){return i})),n.d(t,"getObj",(function(){return o})),n.d(t,"delObj",(function(){return c})),n.d(t,"putObj",(function(){return l}));var a=n("5098");function s(){return Object(a["request"])("get","/admin/menu",{})}function r(e){return Object(a["request"])("get","/admin/menu/tree",e,"Y")}function i(e){return Object(a["request"])("post","/admin/menu",e)}function o(e){return Object(a["request"])("get","/admin/menu/"+e,{})}function c(e){return Object(a["request"])("delete","/admin/menu/"+e,{})}function l(e){return Object(a["request"])("put","/admin/menu",e)}}}]);