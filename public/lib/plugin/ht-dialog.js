!function(g,E){"use strict";var A="ht",s=g[A],P="px",q="left",_="top",Y="bottom",J="right",F="innerHTML",D="className",S="",n="width",m="height",M="string",Z="position",U="absolute",K="0",d="opacity",x="background",b=s.Default,f=b.getInternal(),y=s.Color,G=b.animate,C=b.isTouchable,O=b.isTouchEvent,p=null,V=(Math.sqrt,g.parseInt),r=g.setTimeout,l=(Math.round,y.titleIconBackground),u=function(T){return typeof T===M||T instanceof String},L=function(){return document},k=function(Y){return L().createElement(Y)},h=function(){var d=k("div");return d.tabIndex=-1,d.style.outline="none",d},i=function(){return k("canvas")},H=function(O,f){c(O,"-webkit-transform",f),c(O,"-ms-transform",f),c(O,"transform",f)},c=function(e,R,f){e.style.setProperty(R,f,p)},a=function(M,p,R){b.def(s.widget[M],p,R)},W=function(s,u){s.appendChild(u)},t=function(){return L().documentElement},j=function(){return t().clientWidth},R=function(){return t().clientHeight},T=f.addEventListener,X=f.removeEventListener,o=function(D){var A=D.touches[0];return A?A:D.changedTouches[0]};f.addMethod(b,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:l},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:l}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:l},{type:"rect",rect:[10,10,80,20],background:l}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:l},{type:"rect",rect:[10,34,56,14],background:l},{type:"rect",rect:[34,10,56,14],background:l},{type:"rect",rect:[82,10,8,56],background:l},{type:"rect",rect:[66,62,24,8],background:l}]},dialogTitleLabelColor:b.labelSelectColor,dialogTitleLabelFont:(C?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:b.labelFont,dialogTitleBackground:y.titleBackground,dialogHeaderBackground:y.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var z=function(R){var a=this;a.$1d=R,a.addListeners()};b.def(z,E,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(j){var m=this,i=m.$1d,A=i.$6d,T=i._config,P=i.$7d,S=j,W=j.target;if(P.contains(W)||b.preventDefault(j),b.isLeftButton(j)){O(j)&&(S=o(j));var p=m.$8d={x:S.pageX,y:S.pageY};m.$9d={x:p.x,y:p.y},!T.maximized&&T.draggable&&A.contains(W)&&(m.$4d=!0,b.startDragging(m,j)),m.handle_mousemove(j)&&(m.$2d=!0,b.startDragging(m,j)),P.contains(j.target)||i.$41d.focus()}},handle_mousedown:function(n){this.handle_touchstart(n)},handle_touchend:function(T){if(b.isLeftButton(T)&&!this.$5d&&!this.$3d){var c=this,p=c.$1d,i=T.target,K=p._config,P=p.$18d,n=p.$16d;for(K.closable&&P.contains(i)&&p.hide(),K.maximizable&&n.contains(i)&&(K.maximized?p.restore():p.maximize());i&&(i.className||"").indexOf("dialog-button")<0;)i=i.parentNode;i&&i.buttonItem&&p.action&&p.action(i.buttonItem,T),delete c.$8d,delete c.$9d}},handle_mouseup:function(I){this.handle_touchend(I)},handleWindowTouchEnd:function(S){var m=this,r=m.$1d,i=r.$10d;m.$2d&&m.$3d?i.fire({kind:"endResize",target:r,originEvent:S}):m.$4d&&m.$5d&&i.fire({kind:"endMove",target:r,originEvent:S}),this.clear()},handleWindowMouseUp:function(N){this.handleWindowTouchEnd(N)},handle_mousemove:function(F){var i=this.$1d._config;if(i.maximized)return!1;if("w"!==i.resizeMode&&"h"!==i.resizeMode&&"wh"!==i.resizeMode)return!1;var t=this,R=t.getView(),T=R.querySelector(".resize-area"),l=T.getBoundingClientRect(),h={x:l.left,y:l.top,width:l.width,height:l.height};F=O(F)?o(F):F;var H=F.clientX,U=F.clientY,Q={x:H,y:U};return b.containsPoint(h,Q)?(c(R,"cursor","nwse-resize"),!0):(c(R,"cursor",S),void 0)},handleWindowTouchMove:function(r){r.preventDefault();var s=r;O(r)&&(s=o(r));var h=this,W=h.$8d,n=h.$9d;if(!(n.x==W.x&&n.y==W.y&&b.getDistance(n,{x:s.pageX,y:s.pageY})<=1)){var S=h.$1d,g=S._config,y=S.$21d,K=g.resizeMode||"wh",e=s.pageX-W.x,F=s.pageY-W.y;if(h.$2d){var M=y.offsetWidth,d=y.offsetHeight,w=M+e,i=d+F;if(w=Math.max(w,50),i=Math.max(i,50),"center"===g.position||g.position==p){var Q={},m=y.getBoundingClientRect();Q.x=m.left,Q.y=m.top,g.position=Q}"w"===K?(S.setSize(w,d),W.x+=w-M):"h"===K?(S.setSize(M,i),W.y+=i-d):"wh"===K&&(S.setSize(w,i),W.x+=w-M,W.y+=i-d),h.$3d?S.$10d.fire({kind:"betweenResize",target:S,originEvent:r}):(h.$3d=!0,S.$10d.fire({kind:"beginResize",target:S,originEvent:r}))}else if(h.$4d){var Y=y.getBoundingClientRect(),u=Y.width,T=Y.height,l=j(),t=R(),a=V(y.style.left)||0,D=V(y.style.top)||0,B=a+e,A=D+F,I=S.adjustPosition({x:B,y:A},{width:u,height:T},{width:l,height:t});I&&(B=I.x,A=I.y);var G=B-a,v=A-D;c(y,q,B+P),c(y,_,A+P),W.x+=G,W.y+=v,g.position={x:B,y:A},h.$5d?S.$10d.fire({kind:"betweenMove",target:S,originEvent:r}):(h.$5d=!0,S.$10d.fire({kind:"beginMove",target:S,originEvent:r}))}}},handleWindowMouseMove:function(n){this.handleWindowTouchMove(n)},handleWindowResize:function(){var h=this,p=h,I=p._config,z=p.$21d,d=j(),f=R(),r=I.width,C=I.height,$=I.position||"center";I.maximized?(c(z,n,d+P),c(z,m,f+P),c(z,_,K),c(z,q,K)):(c(z,n,r+P),c(z,m,C+P),"center"===$?(c(z,q,(d-r)/2+P),c(z,_,(f-C)/2+P)):(c(z,q,$.x+P),c(z,_,$.y+P))),p.iv()},handle_mousewheel:function(F){F.stopPropagation()},handle_DOMMouseScroll:function(Q){Q.stopPropagation()}}),s.widget.Dialog=function(E){var W=this,t=W._view=f.createView(null,W);t[D]="ht-widget-dialog",c(t,Z,U),c(t,_,K),c(t,Y,K),c(t,q,K),c(t,J,K),c(t,n,"auto"),c(t,m,"auto"),b.baseZIndex!=p&&c(t,"z-index",b.baseZIndex+"");var o=W.$11d=new z(W);W.bindingHandleWindowResize=o.handleWindowResize.bind(W),W.$10d=new s.Notifier,E&&W.setConfig(E)},a("Dialog",E,{ms_v:1,ms_fire:1,_modal:!0,setTitle:function(Q){this._config.title=Q,this.getView().querySelector(".dialog-container-title span").innerHTML=Q},clearNodes:function(C){if(C)for(;C.firstChild;)C.removeChild(C.firstChild)},$31d:function(){var E=this,e=E.$6d=h(),s=E._config,B=E.$12d=E.$13d();e[D]="dialog-container-title",c(e,"cursor","default"),c(e,"white-space","nowrap"),c(e,"overflow","hidden"),c(e,"font",b.dialogTitleLabelFont),c(e,x,s.titleBackground||b.dialogTitleBackground),c(e,"color",s.titleColor||b.dialogTitleLabelColor);var z=k("span"),a=E.$25d();if(s.titleAlign&&c(e,"text-align",s.titleAlign),s.titleIcon){var X=E.$14d=E.$15d();W(e,X)}if(s.title&&s.title.trim&&(s.title=s.title.trim()),z[F]=s.title||"&nbsp;",W(e,z),s.maximizable){var l=E.$16d=E.$17d();W(B,l)}if(s.closable){var v=E.$18d=E.$19d();W(B,v)}return W(e,B),c(e,"display","block"),c(e,"line-height",a+P),e},$13d:function(){var n=h();return c(n,Z,U),c(n,q,K),c(n,J,5+P),c(n,_,K),c(n,Y,K),c(n,"text-align",J),c(n,"white-space","nowrap"),n[D]="dialog-title-controls",n},$20d:function(){var W=this.$21d=h(),k=this._config,p=k.borderWidth;return c(W,Z,"fixed"),c(W,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),c(W,"padding",K+" "+p+P+" "+p+P+" "+p+P),c(W,"box-sizing","border-box"),c(W,"-moz-box-sizing","border-box"),W[D]="dialog-container",c(W,x,k.titleBackground||b.dialogTitleBackground),W},$22d:function(){var k,L=this,w=L._config,a=L.$7d=h(),C=w.content,j=0,f=w.contentPadding||0;w.buttons!=p&&w.buttons.length>0&&(j=32),u(C)?a[F]=C:C.getView?(k=C.getView(),W(a,k)):(k=C,W(a,k)),c(a,Z,U),c(a,"font",b.dialogContentLabelFont),s.Default.appendToScreen(a);var e=a.offsetWidth+1,z=a.offsetHeight,v=L.$25d();return w.width==p&&(w.width=e+10+2*f),w.height==p&&(w.height=z+v+j+5+2*f),s.Default.removeHTML(a),k&&(c(k,"box-sizing","border-box"),c(k,"-moz-box-sizing","border-box"),c(k,n,"100%"),c(k,m,"100%")),a[D]="dialog-content",c(a,_,v+f+P),c(a,Y,j+f+P),c(a,q,f+P),c(a,J,f+P),c(a,"overflow","hidden"),a},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var o=this.$41d=h();return o[D]="dialog-overlay",c(o,Z,U),c(o,_,K),c(o,Y,K),c(o,q,K),c(o,J,K),c(o,x,"rgba(235, 235, 235, 0.7)"),o},_config:p,setSize:function(I,G){var Q=this,V=Q._config;V&&(V.width=I,V.height=G,Q.isShowing()&&(Q.bindingHandleWindowResize(),Q.iv()))},getConfig:function(){return this._config},$24d:function(){var $=this._config,P=$.titleIconSize||16;return C&&(P*=1.2),P},$25d:function(){var u=this._config,l=u.titleHeight||b.widgetTitleHeight;return l},$26d:function(a){c(a,"cursor","pointer"),c(a,"display","inline-block"),c(a,"margin-right",(C?8:4)+P),c(a,"vertical-align",_)},$27d:function(){var O=this.$30d=h(),d=10;return C&&(d=20),c(O,n,d+P),c(O,m,d+P),c(O,Z,U),c(O,Y,K),c(O,J,K),O[D]="resize-area",O},$15d:function(){var P=this,t=i();t[D]="dialog-title-control dialog-title-control-icon";var I=P.$25d(),H=P.$24d();return P.$26d(t),f.setCanvas(t,H,I),t},$17d:function(){var r=i();r[D]="dialog-title-control dialog-title-control-maximize";var Z=this.$25d(),I=this.$24d();return this.$26d(r),f.setCanvas(r,I,Z),r},$19d:function(){var M=i();M[D]="dialog-title-control dialog-title-control-close";var O=this.$25d(),V=this.$24d();return this.$26d(M),f.setCanvas(M,V,O),M},$28d:function(){var N=h();return c(N,x,b.dialogContentBackground||"white"),c(N,n,"100%"),c(N,m,"100%"),c(N,Z,"relative"),N},$29d:function(){var k=this,w=h();c(w,"line-height",32+P),c(w,Z,U),c(w,Y,K),c(w,q,K),c(w,"white-space","nowrap"),c(w,"overflow","hidden"),c(w,J,K),c(w,x,b.dialogHeaderBackground),w[D]="dialog-container-buttons";var f=this._config,F=f.buttonsAlign||J,a=0;return c(w,"text-align",F),k.$42d=[],f.buttons.forEach(function(_){var l=new s.widget.Button,y=l.getView();y[D]="dialog-button "+_.className,y.buttonItem=_,k.$42d.push(l),l.setBorderColor(p),l.setBackground(b.dialogButtonBackground),l.setSelectBackground(b.dialogButtonSelectBackground),l.setLabelColor(b.dialogButtonLabelColor),c(y,Z,"relative"),c(y,"display","inline-block"),c(y,"text-align",q),c(y,"height",24+P);var i=C?10:5;F===q||F===J?c(y,"margin-"+F,i+P):0===a||c(y,"margin-"+q,i+P),c(y,"vertical-align","middle");var E=b.getTextSize(l.getLabelFont(),_.label).width+10;l.onClicked=function(P){_.action&&_.action.call(k,_,P)},l.setLabel(_.label),l.setDisabled(_.disabled),c(y,n,E+P),W(w,l.getView()),a++}),w},setConfig:function(E){if(E){var y=this,a=y._view;y._config=E,y.action=E.action,y.clearNodes(a),E.borderWidth==p&&(E.borderWidth=5);var w=y.$23d(),S=y.$28d(),_=y.$31d(),G=y.$22d(),o=y.$20d(),f=y.$30d=y.$27d();if(W(a,w),W(a,o),W(o,S),W(S,_),W(S,G),E.buttons!=p&&E.buttons.length>0){var v=y.$29d();W(S,v)}W(o,f),E.maximized?(E.maximized=!1,y.bindingHandleWindowResize(),y.maximize(!0)):y.bindingHandleWindowResize(),y.isShowing()&&y.iv()}},hide:function(){var Y=this,j=Y.$21d,R=Y.$41d,T=Y._view;T[D]="ht-widget-dialog",G(j).duration(200).scale(.7).set(d,K).end(function(){Y.onHidden&&Y.onHidden(),s.Default.removeHTML(T),Y.$10d.fire({kind:"hide",target:Y})}),G(R).duration(200).set(d,K).end(),X(g,"resize",Y.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(t){this._modal=t;var g=this.$23d();g.style.display=t?"block":"none";var W=this._view;c(W,n,t?"auto":K),c(W,m,t?"auto":K)},isModal:function(){return this._modal},$32d:function(){var W=this,k=W._config,s=W.$21d;H(s,S),W.iv(),k.maximized?W.$10d.fire({kind:"maximize",target:W}):W.$10d.fire({kind:"restore",target:W})},maximize:function($){var y=this,p=y.$21d,g=y._config;if(!g.maximized){g.maximized=!0,y.$33d(),y.$16d[D]="dialog-title-control dialog-title-control-minimize";var x=g.width,B=g.height,h=V(p.style.left)||0,W=V(p.style.top)||0;y.$36d=x,y.$37d=B,y.$34d=h,y.$35d=W;var U,N=$?0:200,f=this._view.parentNode;U=f===document.body?b.getWindowInfo():this._view.parentNode.getBoundingClientRect(),G(p).duration(N).set(q,U.left+P).set(_,U.top+P).set(n,U.width+P).set(m,U.height+P).end(function(){y.$32d()})}},restore:function(){var j=this,k=j.$34d,i=j.$35d,Y=j.$36d,F=j.$37d,y=j._config;if(y.maximized&&(y.maximized=!1,j.$33d(),j.$16d[D]="dialog-title-control dialog-title-control-maximize",j.isShowing()&&k!=p&&i!=p&&Y!=p&&F!=p)){var O=j.$21d;G(O).duration(200).set(q,k+P).set(_,i+P).set(n,Y+P).set(m,F+P).end(function(){j.$32d()})}delete j.$34d,delete j.$35d,delete j.$36d,delete j.$37d},show:function(j){var M=this,q=M._view,$=M._config,B=M.$21d,N=M.$41d;j=j||$.parentDOM,$&&$.zIndex!=p&&c(q,"z-index",$.zIndex+S),j?s.Default.appendChild(j,q):s.Default.appendToScreen(q),H(B,"scale(0.7)"),c(B,d,K),M.iv(),M.validate(),M._view[D]+=" dialog-show",r(function(){G(B).duration(200).scale(1).set(d,"1").end(function(){c(B,n,B.clientWidth+P),c(B,m,B.clientHeight+P),M.onShown&&M.onShown(),M.$10d.fire({kind:"show",target:M});var J=$&&$.content;J&&J.iv&&J.iv()}),G(N).duration(200).set(d,"1").end(),T(g,"resize",M.bindingHandleWindowResize)},30)},setPosition:function(q){var Z=this.$21d;Z.style.left=q.x+"px",Z.style.top=q.y+"px"},addEventListener:function(D,K,l){this.$10d.add(D,K,l)},removeEventListener:function(p,S){this.$10d.remove(p,S)},$38d:function(D,L,j,H){var B=f.initContext(D);f.translateAndScale(B,0,0,1),B.clearRect(0,0,j,j);var q=(j-H)/2;b.drawStretchImage(B,b.getImage(L),"fill",0,q,H,H),B.restore()},$33d:function(){var G=this,O=G._config,H=G.$16d,_=O.maximized?b.dialogRestoreIcon:b.dialogMaximizeIcon;if(H&&_){var $=G.$25d(),D=G.$24d();G.$38d(H,b.getImage(_),$,D)}},$39d:function(){var U=this,x=U._config,Y=U.$14d,O=x.titleIcon;if(Y&&O){var l=U.$25d(),v=U.$24d();U.$38d(Y,b.getImage(O),l,v)}},$40d:function(){var O=this,N=O.$18d,d=b.dialogCloseIcon;if(N&&d){var y=O.$25d(),j=O.$24d();O.$38d(N,b.getImage(d),y,j)}},invalidate:function(B){var Y=this,l=Y.$42d;Y._68I||(Y._68I=1,b.callLater(Y.validate,Y,p,B),Y.onInvalidated&&Y.onInvalidated(),Y.fireViewEvent("invalidate"));var x=Y._config.content;x.invalidate&&x.invalidate(),l&&l.forEach(function(Y){Y.iv()})},validateImpl:function(){var Q=this;Q.$40d(),Q.$33d(),Q.$39d();var X=Q._config.content;X.initView&&(X.setX(0),X.setY(0),X.setWidth(Q.$7d.clientWidth),X.setHeight(Q.$7d.clientHeight))},adjustPosition:function(u,R,w){var t=R.width,G=R.height,Z=w.width,H=w.height,C=u.x,k=u.y,I=this._config,x=I.minDragSize||20;return"inside"===I.dragMode?(C+t>Z&&(C=Z-t),k+G>H&&(k=H-G),0>C&&(C=0),0>k&&(k=0)):(null==I.dragMode||"none"===I.dragMode)&&(-t+x>C&&(C=-t+x),C>Z-x&&(C=Z-x),k>H-x&&(k=H-x),0>k&&(k=0)),{x:C,y:k}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);